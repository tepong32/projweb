{% load adminlte_helpers i18n %}
{% load static %}

<!-- INDEX PAGE -->
<!-- This page was overly-modified from that of the default AdminLTE3 starter.html.
Kindly just check comments for better understanding of its parts. This was not made by someone good with HTML, CSS or JavaScript. Logics and href links were the ones most changed.  -->

<!DOCTYPE html>
<html>
<head>
    <!-- this head part is default for AdminLTE -->
    {% block title_outer %}
        <title>{% block title %}{{ site.name }}{% endblock %}</title>
    {% endblock %}

    {% block meta %}
        <meta charset="utf-8">
        <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge">
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {% endblock %}


    {% block stylesheets %}
        {% include 'adminlte/lib/_styles.html' %}
    {% endblock %}

    <!-- idk what this does but whatever -->
    {% block extra_head %}{% endblock %}

    <!-- added this part for pagedown header // see blog/blog_postform.html -->
    {% block pagedown_head %}{% endblock pagedown_head %}

</head>

<body class="hold-transition sidebar-mini sidebar-collapse">
    
        

<!-- header options whether user is logged-in or not -->
<!-- LOGGED-IN HEADER -->
  {% if user.is_authenticated %}
    <div class="wrapper">
    <nav class="main-header navbar navbar-expand navbar-dark navbar-dark">
        <!-- Header Navbar: style can be found in header.less -->
        
        <!-- LEFT NAVBAR LINKS -->
        <ul class="navbar-nav">
<!--             removed sidebar-expand toggle
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-stream"></i></a>
            </li> -->

            <li class="nav-item">
                <a href="{% url 'home' %}" class="nav-link fas fa-home mt-1"></a>
            </li>

            <li class="nav-item">
                <a href="{% url 'profile' request.user.username %}" class="nav-link fas fa-user-alt mt-1"></a>
            </li>

            <li class="nav-item">
                <a href="/blog/" class="nav-link fas fa-comments mt-1"></a>
            </li>

            <li class="nav-item">
                <a href="/lounge/" class="nav-link fa fa-coffee mt-1"></a>
            </li>

            
            <!-- a shortcut link for admin accounts -->
            {% if request.user.user_group == "King" %}
                <li class="nav-item d-none d-sm-inline-block">
                    <a href="/admin" class="nav-link">Admin</a>
                </li>
            {% endif %}
        </ul>
    
        <!-- RIGHT NAVBAR LINKS -->
        <!-- all contents are to be modified with corresponding variables -->
        <ul class="navbar-nav ml-auto">
            <ul class="nav navbar-nav">

                <!-- toggler for light/dark mode -->
                <!-- not implemented yet -->
                <li class="nav-item">
                    <a href="#" class="nav-link fa fa-toggle-on mt-1">
                        <i class="fa fa-toggle-off"></i></a>
                </li>
                <!-- SEARCH FORM -->
                <!-- not functioning yet -->
                <form class="form-inline ml-3">
                    <div class="input-group input-group-sm">
                        <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                        <div class="input-group-append">
                            <button class="btn btn-navbar" type="submit">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </form>
                
            </ul>
        </ul>
    </nav>
<!-- /LOGGED-IN HEADER -->

<!-- LOGGED-IN SIDEBAR -->
<aside class="main-sidebar sidebar-dark-secondary elevation-4">
    <!-- Brand Logo -->
      <a href="/" class="brand-link">
        <img src="/media/thehideout.jpg" alt="theHideOut! Logo" class="brand-image img-circle elevation-4" style="opacity: 1">
        <span class="brand-text font-weight-light">theHideOut!</span>
      </a>

    <div class="sidebar">
      

        <!-- Sidebar user panel -->      
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

                <li class="nav-item">
                    <a href="{% url 'blog-home' %}" class="nav-link">
                        <i class="nav-icon fa fa-comments"></i> 
                        <p>Blog</p>
                    </a>
                </li>
                <li class="nav-item">
                        <a href="{% url 'todo-home' %}" class="nav-link">
                            <i class="nav-icon fa fa-exclamation"></i> 
                            <p>Your To-Do List</p>
                        </a>
                    </li>
                <li class="nav-item">
                        <a href="/lounge" class="nav-link">
                            <i class="nav-icon fa fa-coffee"></i> 
                            <p>Lounge</p>
                        </a>
                    </li>
                <li class="nav-item has-tree-view ">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-toolbox"></i> <p>Bookmarks</p>
                        <p><i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview menu-open">
                            <li class="nav-item">
                                    <a href="{% url 'testing' %}" class="nav-link">
                                        <i class="nav-icon fas fa-exclamation-triangle"></i> Testing Page
                                    </a>
                                </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-user"></i> Another link
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- logout button -->
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="nav-icon fa fa-power-off"></i>
                        <p>Logout</p>
                    </a>
                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu">
                        <a href="{% url 'logout' %}" class="dropdown-item">
                            <i class="fas fa-power-off fa-spin mr-2"></i> Confirm Log out
                        </a>
                    </div>
                </li>

            </ul>
        </nav>   
    </div>
</aside>
<!-- /LOGGED-IN SIDEBAR -->



<!-- NOT LOGGED-IN HEADER -->
{% else %}
    <div class="wrapper">
    <nav class="main-header navbar navbar-expand navbar-gray navbar-light">

         <!-- LEFT NAVBAR LINKS -->
        <ul class="navbar-nav">
<!--             removed sidebar-expand toggle
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
            </li>
        </ul> -->

        
        <!-- SEARCH FORM -->
        <form class="form-inline ml-3">
            <div class="input-group input-group-sm">
                <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                <div class="input-group-append">
                    <button class="btn btn-navbar" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </form>
    

        <!-- RIGHT NAVBAR LINKS -->
        <ul class="navbar-nav ml-auto">
            <ul class="nav navbar-nav">
            <li class="nav-item d-none d-sm-inline-block">
                <a href="{% url 'login' %}" class="nav-link">Log In</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="{% url 'register' %}" class="nav-link">Register</a>
            </li>

            </ul>
        </ul>
    </nav>
<!-- /NOT LOGGED-IN HEADER -->



<!-- NOT LOGGED-IN SIDEBAR -->
<aside class="main-sidebar sidebar-dark-primary elevation-4">

      <!-- Sidebar user panel -->
      <div class="sidebar">
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
       <!-- Brand Logo -->
        <a href="/" class="brand-link">
            <img src="/media/thehideout.jpg" alt="theHideOut! Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
            <span class="brand-text font-weight-light">theHideOut!</span>
        </a>
      </div>

        <!-- sidebar menu: : style can be found in sidebar.less -->
        
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

                <li class="nav-item">
                    <a href="#" class="nav-link active">
                        <i class="nav-icon fas fa-tachometer-alt"></i> 
                        <p>Home</p>
                    </a>
                </li>
                <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-tachometer-alt"></i> 
                            <p>Coming Soon</p>
                        </a>
                    </li>
                <li class="nav-item has-tree-view ">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-object-group"></i> <p>Sub menu</p>
                        <p><i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview menu-open">
                            <li class="nav-item">
                                    <a href="#" class="nav-link">
                                        <i class="nav-icon fas fa-circle"></i> link
                                    </a>
                                </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link active">
                                <i class="nav-icon fas fa-user"></i> Another link
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>   
    </div>
</aside>

{% endif %}
<!-- /NOT LOGGED-IN SIDEBAR -->




<!-- MAIN CONTENT AREA -->
<!-- logic is inside landing.html -->
{% block landing_page %}

{% endblock landing_page %}
<!-- /MAIN CONTENT block -->



<footer class="main-footer">
    <div class="float-right d-none d-sm-block">
        <b>Version</b> 0.1
    </div>

    <strong>Copyright &copy; 2020.
        
    </strong> All rights
    reserved.  
</footer>



<!-- jquery script for the marked and markdown part of css -->
<!-- place above bootstrap // not sure if there's any reason why -->
<script
  src="https://code.jquery.com/jquery-3.4.1.slim.js"
  integrity="sha256-BTlTdQO9/fascB1drekrDVkaKd9PkwBymMlHOiG+qLI="
  crossorigin="anonymous"></script>
<!-- fontawesome -->
<script src="https://use.fontawesome.com/2363b49f19.js"></script>

{% block javascript %}
    {% include 'adminlte/lib/_scripts.html' %}
{% endblock %}

{% block extra_js %}{% endblock %}

{% block extra_foot %}{% endblock %}

{% block extrascripts %}{% endblock extrascripts %}


<!-- jquery script for the marked part of css // google: "marked.min.js cdn"-->
<!-- place above bootstrap // not sure if there's any reason why -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.8.0/marked.min.js"></script>
<script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>


<!-- might need to study more about jquery...or always copy-paste! -->
<!-- this shows what part of the page/site we want to turn into markdown. In this case, the content-markdown classes for divs (put into the divs for {{post.content}}) -->
<script type="text/javascript">
    $(document).ready(function(){
        $(".content-markdown").each(function(){
            var content = $(this).text()
            var markedContent = marked(content)
            $(this).html(markedContent)
        });


        $(".post-detail-item img").each(function(){
            $(this).addClass("img-responsive")
        });

        // for modals/popup create post window
        $("#quickpost").modalForm({
            formURL: "{% url 'quickpost' %}"});

        // datepicker testing
        $('#datetimepicker').data("DateTimePicker").FUNCTION()
    });
</script>



</body>
</html>
